apiVersion: integreatly.org/v1alpha1
kind: GrafanaDataSource
metadata:
  name: prometheus-grafanadatasource
  namespace: monitoring
  annotations:
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
    argocd.argoproj.io/sync-wave: "5"
spec:
  datasources:
    - access: proxy
      editable: false
      isDefault: false
      jsonData:
        timeInterval: 5s
        httpHeaderName1: Authorization
        tlsSkipVerify: true
      secureJsonData:
        httpHeaderValue1: "Bearer X"
      name: Prometheus
      type: prometheus
      url: "https://thanos-querier.openshift-monitoring.svc:9091"
      version: 1
  name: prometheus-datasource.yaml
