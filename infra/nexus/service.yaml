apiVersion: v1
kind: Service
metadata:
  name: nexus3-docker
  labels:
    app: nexus3-docker
spec:
  ports:
    - appProtocol: http
      name: docker-proxy
      port: 8082
      protocol: TCP
      targetPort: docker-proxy
    - appProtocol: http
      name: homelab-repo
      port: 8083
      protocol: TCP
      targetPort: homelab-repo
    - appProtocol: http
      name: redhat-proxy
      port: 8084
      protocol: TCP
      targetPort: redhat-proxy
    - appProtocol: http
      name: quay-proxy
      port: 8085
      protocol: TCP
      targetPort: quay-proxy
    - appProtocol: http
      name: ghcr-proxy
      port: 8086
      protocol: TCP
      targetPort: ghcr-proxy
  selector:
    app: nexus3
---
kind: Service
apiVersion: v1
metadata:
  name: nexus3
  labels:
    app: nexus3
spec:
  ports:
    - name: http
      protocol: TCP
      port: 80
      targetPort: http
    - name: metrics
      protocol: TCP
      port: 8405
      targetPort: http-metrics
  selector:
    app: nexus3
